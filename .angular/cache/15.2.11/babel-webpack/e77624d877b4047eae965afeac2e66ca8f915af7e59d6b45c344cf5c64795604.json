{"ast":null,"code":"import { map, BehaviorSubject } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport class PruductService {\n  constructor(_http) {\n    this._http = _http;\n    this.cartItems = [];\n    // ðŸ”¥ Cart Counter (Header Badge)\n    this.cartCountSource = new BehaviorSubject(0);\n    this.cartCount$ = this.cartCountSource.asObservable();\n    this.allProducts = [];\n    this.filteredProductsSource = new BehaviorSubject([]);\n    this.filteredProducts$ = this.filteredProductsSource.asObservable();\n  }\n  // ============================\n  // Get Product List\n  // ============================\n  getProductList() {\n    return this._http.get('https://dummyjson.com/products').pipe(map(res => res.products));\n  }\n  // ============================\n  // Get Product By ID\n  // ============================\n  getProduct(id) {\n    return this._http.get(`https://dummyjson.com/products/${id}`);\n  }\n  // ============================\n  // Search Product (Live Search)\n  // ============================\n  searchProduct(query) {\n    return this._http.get('https://dummyjson.com/products/search', {\n      params: {\n        q: query\n      }\n    }).pipe(map(data => data.products));\n  }\n  setProducts(products) {\n    this.allProducts = products;\n    this.filteredProductsSource.next(products);\n  }\n  filterProducts(query) {\n    const filtered = this.allProducts.filter(p => p.title.toLowerCase().includes(query.toLowerCase()));\n    this.filteredProductsSource.next(filtered);\n  }\n  getProductByCat(category) {\n    return this._http.get(`https://dummyjson.com/products/category/${category}`).pipe(map(data => data.products));\n  }\n  addToCart(product) {\n    this.cartItems.push(product);\n    this.updateCartCount();\n  }\n  updateCartCount() {\n    this.cartCountSource.next(this.cartItems.length);\n  }\n  getItems() {\n    return [...this.cartItems];\n  }\n  // ============================\n  // Remove Item\n  // ============================\n  removeItem(product) {\n    this.cartItems = this.cartItems.filter(p => p.id !== product.id);\n    this.updateCartCount();\n  }\n  // ============================\n  // Calculate Total Price\n  // ============================\n  getTotalPrice() {\n    return this.cartItems.reduce((total, item) => total + (item.price || 0), 0);\n  }\n}\nPruductService.Éµfac = function PruductService_Factory(t) {\n  return new (t || PruductService)(i0.ÉµÉµinject(i1.HttpClient));\n};\nPruductService.Éµprov = /*@__PURE__*/i0.ÉµÉµdefineInjectable({\n  token: PruductService,\n  factory: PruductService.Éµfac,\n  providedIn: 'root'\n});","map":{"version":3,"mappings":"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","names":["map","BehaviorSubject","PruductService","constructor","_http","cartCountSource","asObservable","filteredProductsSource","getProductList","get","pipe","res","products","getProduct","id","searchProduct","query","params","q","data","setProducts","allProducts","next","filterProducts","filtered","filter","p","title","toLowerCase","includes","getProductByCat","category","addToCart","product","cartItems","push","updateCartCount","length","getItems","removeItem","getTotalPrice","reduce","total","item","price","factory","providedIn"],"sourceRoot":"","sources":["E:\\store-page\\src\\app\\service\\pruduct.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { ICategory, IProduct, IBaseResponsive, IMenuItem } from '../interface/product';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Observable, map, BehaviorSubject } from 'rxjs';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class PruductService {\r\n\r\n  private cartItems: IProduct[] = [];\r\n\r\n  // ðŸ”¥ Cart Counter (Header Badge)\r\n  private cartCountSource = new BehaviorSubject<number>(0);\r\n  cartCount$ = this.cartCountSource.asObservable();\r\n\r\n  constructor(private _http: HttpClient) {}\r\n\r\n  // ============================\r\n  // Get Product List\r\n  // ============================\r\n  getProductList(): Observable<IProduct[]> {\r\n    return this._http.get<IBaseResponsive>('https://dummyjson.com/products')\r\n      .pipe(map(res => res.products));\r\n  }\r\n\r\n  // ============================\r\n  // Get Product By ID\r\n  // ============================\r\n  getProduct(id: number): Observable<IProduct> {\r\n    return this._http.get<IProduct>(`https://dummyjson.com/products/${id}`);\r\n  }\r\n\r\n  // ============================\r\n  // Search Product (Live Search)\r\n  // ============================\r\n  searchProduct(query: string): Observable<IProduct[]> {\r\n    return this._http.get<IBaseResponsive>('https://dummyjson.com/products/search', {\r\n      params: { q: query }\r\n    }).pipe(map(data => data.products));\r\n  }\r\n\r\n private allProducts: IProduct[] = [];\r\nprivate filteredProductsSource = new BehaviorSubject<IProduct[]>([]);\r\nfilteredProducts$ = this.filteredProductsSource.asObservable();\r\n\r\nsetProducts(products: IProduct[]) {\r\n    this.allProducts = products;\r\n    this.filteredProductsSource.next(products);\r\n}\r\n\r\nfilterProducts(query: string) {\r\n    const filtered = this.allProducts.filter(p =>\r\n        p.title.toLowerCase().includes(query.toLowerCase())\r\n    );\r\n    this.filteredProductsSource.next(filtered);\r\n}\r\n\r\n  getProductByCat(category: string): Observable<IProduct[]> {\r\n    return this._http\r\n      .get<IBaseResponsive>(`https://dummyjson.com/products/category/${category}`)\r\n      .pipe(map(data => data.products));\r\n  }\r\n\r\n  addToCart(product: IProduct) {\r\n    this.cartItems.push(product);\r\n    this.updateCartCount();\r\n  }\r\n\r\n  updateCartCount() {\r\n    this.cartCountSource.next(this.cartItems.length);\r\n  }\r\n\r\n  getItems(): IProduct[] {\r\n    return [...this.cartItems];\r\n  }\r\n\r\n  // ============================\r\n  // Remove Item\r\n  // ============================\r\n  removeItem(product: IProduct) {\r\n    this.cartItems = this.cartItems.filter(p => p.id !== product.id);\r\n    this.updateCartCount();\r\n  }\r\n\r\n  // ============================\r\n  // Calculate Total Price\r\n  // ============================\r\n  getTotalPrice(): number {\r\n    return this.cartItems.reduce((total, item) => total + (item.price || 0), 0);\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}