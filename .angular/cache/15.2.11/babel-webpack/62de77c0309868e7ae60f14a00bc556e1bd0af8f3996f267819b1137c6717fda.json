{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../service/cart.service\";\nimport * as i2 from \"@angular/common\";\nfunction CartComponent_div_0_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 5);\n    i0.ɵɵelement(1, \"img\", 6);\n    i0.ɵɵelementStart(2, \"div\", 7)(3, \"h3\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\", 8);\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"div\", 9)(9, \"button\", 10);\n    i0.ɵɵlistener(\"click\", function CartComponent_div_0_div_1_Template_button_click_9_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const item_r4 = restoredCtx.$implicit;\n      const ctx_r5 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r5.decreaseQty(item_r4));\n    });\n    i0.ɵɵtext(10, \"-\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"span\");\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"button\", 10);\n    i0.ɵɵlistener(\"click\", function CartComponent_div_0_div_1_Template_button_click_13_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const item_r4 = restoredCtx.$implicit;\n      const ctx_r7 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r7.increaseQty(item_r4));\n    });\n    i0.ɵɵtext(14, \"+\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(15, \"button\", 11);\n    i0.ɵɵlistener(\"click\", function CartComponent_div_0_div_1_Template_button_click_15_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const item_r4 = restoredCtx.$implicit;\n      const ctx_r8 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r8.removeItem(item_r4));\n    });\n    i0.ɵɵtext(16, \"X\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const item_r4 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", item_r4.thumbnail, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(item_r4.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(7, 4, item_r4.price));\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(item_r4.qty);\n  }\n}\nfunction CartComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 2);\n    i0.ɵɵtemplate(1, CartComponent_div_0_div_1_Template, 17, 6, \"div\", 3);\n    i0.ɵɵelementStart(2, \"h2\", 4);\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"currency\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.cartItems);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Total: \", i0.ɵɵpipeBind1(4, 2, ctx_r0.totalPrice), \"\");\n  }\n}\nfunction CartComponent_ng_template_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"h2\", 12);\n    i0.ɵɵtext(1, \"Cart is empty\");\n    i0.ɵɵelementEnd();\n  }\n}\nexport class CartComponent {\n  constructor(cart) {\n    this.cart = cart;\n    this.cartItems = [];\n    this.totalPrice = 0;\n  }\n  ngOnInit() {\n    // მოსმენასაც იწყებს live updates-სთვის\n    this.cart.cartItems$.subscribe(items => {\n      this.cartItems = items.map(item => ({\n        ...item,\n        qty: item.quantity || 1\n      }));\n      this.calculateTotal();\n    });\n  }\n  increaseQty(item) {\n    item.qty++;\n    this.updateItem(item);\n  }\n  decreaseQty(item) {\n    if (item.qty > 1) {\n      item.qty--;\n      this.updateItem(item);\n    }\n  }\n  updateItem(item) {\n    this.cart.updateQuantity(item.id, item.qty);\n    this.calculateTotal();\n  }\n  removeItem(item) {\n    this.cart.removeItem(item);\n  }\n  calculateTotal() {\n    this.totalPrice = this.cartItems.reduce((sum, item) => sum + item.price * item.qty, 0);\n  }\n}\nCartComponent.ɵfac = function CartComponent_Factory(t) {\n  return new (t || CartComponent)(i0.ɵɵdirectiveInject(i1.CartService));\n};\nCartComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: CartComponent,\n  selectors: [[\"app-cart\"]],\n  decls: 3,\n  vars: 2,\n  consts: [[\"class\", \"cart-container\", 4, \"ngIf\", \"ngIfElse\"], [\"emptyCart\", \"\"], [1, \"cart-container\"], [\"class\", \"cart-card\", 4, \"ngFor\", \"ngForOf\"], [1, \"total\"], [1, \"cart-card\"], [1, \"cart-img\", 3, \"src\"], [1, \"cart-info\"], [1, \"price\"], [1, \"qty-box\"], [3, \"click\"], [1, \"delete-btn\", 3, \"click\"], [1, \"empty\"]],\n  template: function CartComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, CartComponent_div_0_Template, 5, 4, \"div\", 0);\n      i0.ɵɵtemplate(1, CartComponent_ng_template_1_Template, 2, 0, \"ng-template\", null, 1, i0.ɵɵtemplateRefExtractor);\n    }\n    if (rf & 2) {\n      const _r1 = i0.ɵɵreference(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.cartItems.length > 0)(\"ngIfElse\", _r1);\n    }\n  },\n  dependencies: [i2.NgForOf, i2.NgIf, i2.CurrencyPipe],\n  styles: [\".cart-wrapper[_ngcontent-%COMP%] {\\n  display: grid;\\n  grid-template-columns: repeat(auto-fill, minmax(360px, 1fr));\\n  gap: 2rem;\\n  padding: 1rem 2rem;\\n}\\n\\n.cart-card[_ngcontent-%COMP%] {\\n  background: #4a4949 !important;\\n  border-radius: 16px;\\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.4);\\n  overflow: hidden;\\n  transition: transform 0.2s ease, box-shadow 0.3s ease;\\n}\\nco[_ngcontent-%COMP%]   .cart-card[_ngcontent-%COMP%]:hover {\\n  transform: scale(1.02);\\n  box-shadow: 0 6px 25px rgba(0, 0, 0, 0.6);\\n}\\n\\n.cart-image[_ngcontent-%COMP%] {\\n  width: 100%;\\n  height: 200px;\\n  object-fit: cover;\\n  margin-top: 10px;\\n}\\n\\n.cart-info[_ngcontent-%COMP%] {\\n  padding: 1.2rem;\\n}\\n\\n.cart-title[_ngcontent-%COMP%] {\\n  font-size: 1.2rem;\\n  margin-bottom: 0.4rem;\\n  font-weight: 500;\\n  color: #ffffff;\\n}\\n\\n.cart-price[_ngcontent-%COMP%] {\\n  color: #ffcc00;\\n  font-size: 1.3rem;\\n  font-weight: bold;\\n  margin-bottom: 1rem;\\n}\\n\\n.qty-box[_ngcontent-%COMP%] {\\n  display: flex;\\n  align-items: center;\\n  gap: 15px;\\n  margin-bottom: 1rem;\\n}\\n.qty-box[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\n  width: 32px;\\n  height: 32px;\\n  border-radius: 50%;\\n  border: none;\\n  background: #333;\\n  color: #ffffff;\\n  font-size: 20px;\\n  cursor: pointer;\\n  transition: background 0.2s ease;\\n}\\n.qty-box[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover {\\n  background: #555;\\n}\\n.qty-box[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] {\\n  font-size: 1.2rem;\\n}\\n\\n.cart-actions[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: space-between;\\n  margin-top: 1.2rem;\\n}\\n\\n.buy-btn[_ngcontent-%COMP%], .delete-btn[_ngcontent-%COMP%] {\\n  padding: 0.6rem 1.2rem;\\n  border-radius: 8px;\\n  font-weight: bold;\\n  cursor: pointer;\\n  border: none;\\n  transition: all 0.2s ease;\\n}\\n\\n.buy-btn[_ngcontent-%COMP%] {\\n  background: #ffcc00;\\n  color: #000;\\n}\\n.buy-btn[_ngcontent-%COMP%]:hover {\\n  background: #e6b800;\\n}\\n\\n.delete-btn[_ngcontent-%COMP%] {\\n  background: #ff4c4c;\\n  color: white;\\n}\\n.delete-btn[_ngcontent-%COMP%]:hover {\\n  background: #d40000;\\n  transform: scale(1.05);\\n}\\n\\n.total-box[_ngcontent-%COMP%] {\\n  grid-column: 1/-1;\\n  text-align: right;\\n  margin-top: 2rem;\\n  font-size: 1.5rem;\\n  color: #ffcc00;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY2FydC9jYXJ0LmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsYUFBQTtFQUNBLDREQUFBO0VBQ0EsU0FBQTtFQUNBLGtCQUFBO0FBQ0Y7O0FBRUE7RUFDRSw4QkFBQTtFQUNBLG1CQUFBO0VBQ0EseUNBQUE7RUFDQSxnQkFBQTtFQUNBLHFEQUFBO0FBQ0Y7QUFBRTtFQUdFLHNCQUFBO0VBQ0EseUNBQUE7QUFBSjs7QUFJQTtFQUNFLFdBQUE7RUFDQSxhQUFBO0VBQ0EsaUJBQUE7RUFDQSxnQkFBQTtBQURGOztBQUlBO0VBQ0UsZUFBQTtBQURGOztBQUlBO0VBQ0UsaUJBQUE7RUFDQSxxQkFBQTtFQUNBLGdCQUFBO0VBQ0EsY0FBQTtBQURGOztBQUlBO0VBQ0UsY0FBQTtFQUNBLGlCQUFBO0VBQ0EsaUJBQUE7RUFDQSxtQkFBQTtBQURGOztBQUlBO0VBQ0UsYUFBQTtFQUNBLG1CQUFBO0VBQ0EsU0FBQTtFQUNBLG1CQUFBO0FBREY7QUFHRTtFQUNFLFdBQUE7RUFDQSxZQUFBO0VBQ0Esa0JBQUE7RUFDQSxZQUFBO0VBQ0EsZ0JBQUE7RUFDQSxjQUFBO0VBQ0EsZUFBQTtFQUNBLGVBQUE7RUFDQSxnQ0FBQTtBQURKO0FBR0k7RUFDRSxnQkFBQTtBQUROO0FBS0U7RUFDRSxpQkFBQTtBQUhKOztBQU9BO0VBQ0UsYUFBQTtFQUNBLDhCQUFBO0VBQ0Esa0JBQUE7QUFKRjs7QUFPQTtFQUNFLHNCQUFBO0VBQ0Esa0JBQUE7RUFDQSxpQkFBQTtFQUNBLGVBQUE7RUFDQSxZQUFBO0VBQ0EseUJBQUE7QUFKRjs7QUFPQTtFQUNFLG1CQUFBO0VBQ0EsV0FBQTtBQUpGO0FBTUU7RUFDRSxtQkFBQTtBQUpKOztBQVFBO0VBQ0UsbUJBQUE7RUFDQSxZQUFBO0FBTEY7QUFPRTtFQUNFLG1CQUFBO0VBQ0Esc0JBQUE7QUFMSjs7QUFTQTtFQUNFLGlCQUFBO0VBQ0EsaUJBQUE7RUFDQSxnQkFBQTtFQUNBLGlCQUFBO0VBQ0EsY0FBQTtBQU5GIiwic291cmNlc0NvbnRlbnQiOlsiLmNhcnQtd3JhcHBlciB7XHJcbiAgZGlzcGxheTogZ3JpZDtcclxuICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdChhdXRvLWZpbGwsIG1pbm1heCgzNjBweCwgMWZyKSk7XHJcbiAgZ2FwOiAycmVtO1xyXG4gIHBhZGRpbmc6IDFyZW0gMnJlbTtcclxufVxyXG5cclxuLmNhcnQtY2FyZCB7XHJcbiAgYmFja2dyb3VuZDogIzRhNDk0OSAhaW1wb3J0YW50O1xyXG4gIGJvcmRlci1yYWRpdXM6IDE2cHg7XHJcbiAgYm94LXNoYWRvdzogMCA0cHggMjBweCByZ2JhKDAsMCwwLDAuNCk7XHJcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuICB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gLjJzIGVhc2UsIGJveC1zaGFkb3cgLjNzIGVhc2U7XHJcbiAgY29cclxuXHJcbiAgJjpob3ZlciB7XHJcbiAgICB0cmFuc2Zvcm06IHNjYWxlKDEuMDIpO1xyXG4gICAgYm94LXNoYWRvdzogMCA2cHggMjVweCByZ2JhKDAsMCwwLDAuNik7XHJcbiAgfVxyXG59XHJcblxyXG4uY2FydC1pbWFnZSB7XHJcbiAgd2lkdGg6IDEwMCU7XHJcbiAgaGVpZ2h0OiAyMDBweDtcclxuICBvYmplY3QtZml0OiBjb3ZlcjtcclxuICBtYXJnaW4tdG9wOiAxMHB4O1xyXG59XHJcblxyXG4uY2FydC1pbmZvIHtcclxuICBwYWRkaW5nOiAxLjJyZW07XHJcbn1cclxuXHJcbi5jYXJ0LXRpdGxlIHtcclxuICBmb250LXNpemU6IDEuMnJlbTtcclxuICBtYXJnaW4tYm90dG9tOiAwLjRyZW07XHJcbiAgZm9udC13ZWlnaHQ6IDUwMDtcclxuICBjb2xvcjojZmZmZmZmXHJcbn1cclxuXHJcbi5jYXJ0LXByaWNlIHtcclxuICBjb2xvcjogI2ZmY2MwMDtcclxuICBmb250LXNpemU6IDEuM3JlbTtcclxuICBmb250LXdlaWdodDogYm9sZDtcclxuICBtYXJnaW4tYm90dG9tOiAxcmVtO1xyXG59XHJcblxyXG4ucXR5LWJveCB7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gIGdhcDogMTVweDtcclxuICBtYXJnaW4tYm90dG9tOiAxcmVtO1xyXG5cclxuICBidXR0b24ge1xyXG4gICAgd2lkdGg6IDMycHg7XHJcbiAgICBoZWlnaHQ6IDMycHg7XHJcbiAgICBib3JkZXItcmFkaXVzOiA1MCU7XHJcbiAgICBib3JkZXI6IG5vbmU7XHJcbiAgICBiYWNrZ3JvdW5kOiAjMzMzO1xyXG4gICAgY29sb3I6ICNmZmZmZmY7XHJcbiAgICBmb250LXNpemU6IDIwcHg7XHJcbiAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgICB0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kIDAuMnMgZWFzZTtcclxuXHJcbiAgICAmOmhvdmVyIHtcclxuICAgICAgYmFja2dyb3VuZDogIzU1NTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHNwYW4ge1xyXG4gICAgZm9udC1zaXplOiAxLjJyZW07XHJcbiAgfVxyXG59XHJcblxyXG4uY2FydC1hY3Rpb25zIHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcclxuICBtYXJnaW4tdG9wOiAxLjJyZW07XHJcbn1cclxuXHJcbi5idXktYnRuLCAuZGVsZXRlLWJ0biB7XHJcbiAgcGFkZGluZzogMC42cmVtIDEuMnJlbTtcclxuICBib3JkZXItcmFkaXVzOiA4cHg7XHJcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbiAgY3Vyc29yOiBwb2ludGVyO1xyXG4gIGJvcmRlcjogbm9uZTtcclxuICB0cmFuc2l0aW9uOiBhbGwgMC4ycyBlYXNlO1xyXG59XHJcblxyXG4uYnV5LWJ0biB7XHJcbiAgYmFja2dyb3VuZDogI2ZmY2MwMDtcclxuICBjb2xvcjogIzAwMDtcclxuXHJcbiAgJjpob3ZlciB7XHJcbiAgICBiYWNrZ3JvdW5kOiAjZTZiODAwO1xyXG4gIH1cclxufVxyXG5cclxuLmRlbGV0ZS1idG4ge1xyXG4gIGJhY2tncm91bmQ6ICNmZjRjNGM7XHJcbiAgY29sb3I6IHdoaXRlO1xyXG5cclxuICAmOmhvdmVyIHtcclxuICAgIGJhY2tncm91bmQ6ICNkNDAwMDA7XHJcbiAgICB0cmFuc2Zvcm06IHNjYWxlKDEuMDUpO1xyXG4gIH1cclxufVxyXG5cclxuLnRvdGFsLWJveCB7XHJcbiAgZ3JpZC1jb2x1bW46IDEgLyAtMTtcclxuICB0ZXh0LWFsaWduOiByaWdodDtcclxuICBtYXJnaW4tdG9wOiAycmVtO1xyXG4gIGZvbnQtc2l6ZTogMS41cmVtO1xyXG4gIGNvbG9yOiAjZmZjYzAwO1xyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":";;;;;;IAEEA,8BAAsD;IAEpDA,yBAA6C;IAE7CA,8BAAuB;IACjBA,YAAgB;IAAAA,iBAAK;IACzBA,4BAAiB;IAAAA,YAA2B;;IAAAA,iBAAI;IAEhDA,8BAAqB;IACXA;MAAA;MAAA;MAAA;MAAA,OAASA,0CAAiB;IAAA,EAAC;IAACA,kBAAC;IAAAA,iBAAS;IAC9CA,6BAAM;IAAAA,aAAc;IAAAA,iBAAO;IAC3BA,mCAAoC;IAA5BA;MAAA;MAAA;MAAA;MAAA,OAASA,0CAAiB;IAAA,EAAC;IAACA,kBAAC;IAAAA,iBAAS;IAIlDA,mCAAsD;IAA3BA;MAAA;MAAA;MAAA;MAAA,OAASA,yCAAgB;IAAA,EAAC;IAACA,kBAAC;IAAAA,iBAAS;;;;IAb3DA,eAAsB;IAAtBA,yDAAsB;IAGrBA,eAAgB;IAAhBA,mCAAgB;IACHA,eAA2B;IAA3BA,yDAA2B;IAIpCA,eAAc;IAAdA,iCAAc;;;;;IAZ5BA,8BAAyE;IAEvEA,qEAiBM;IAENA,6BAAkB;IAAAA,YAAkC;;IAAAA,iBAAK;;;;IAnBjBA,eAAY;IAAZA,0CAAY;IAmBlCA,eAAkC;IAAlCA,6EAAkC;;;;;IAIpDA,8BAAkB;IAAAA,6BAAa;IAAAA,iBAAK;;;ACjBtC,OAAM,MAAOC,aAAa;EAKxBC,YAAoBC,IAAiB;IAAjB,SAAI,GAAJA,IAAI;IAHxB,cAAS,GAAU,EAAE;IACrB,eAAU,GAAG,CAAC;EAE0B;EAExCC,QAAQ;IACN;IACA,IAAI,CAACD,IAAI,CAACE,UAAU,CAACC,SAAS,CAACC,KAAK,IAAG;MACrC,IAAI,CAACC,SAAS,GAAGD,KAAK,CAACE,GAAG,CAACC,IAAI,KAAK;QAClC,GAAGA,IAAI;QACPC,GAAG,EAAED,IAAI,CAACE,QAAQ,IAAI;OACvB,CAAC,CAAC;MAEH,IAAI,CAACC,cAAc,EAAE;IACvB,CAAC,CAAC;EACJ;EAEAC,WAAW,CAACJ,IAAS;IACnBA,IAAI,CAACC,GAAG,EAAE;IACV,IAAI,CAACI,UAAU,CAACL,IAAI,CAAC;EACvB;EAEAM,WAAW,CAACN,IAAS;IACnB,IAAIA,IAAI,CAACC,GAAG,GAAG,CAAC,EAAE;MAChBD,IAAI,CAACC,GAAG,EAAE;MACV,IAAI,CAACI,UAAU,CAACL,IAAI,CAAC;;EAEzB;EAEAK,UAAU,CAACL,IAAS;IAClB,IAAI,CAACP,IAAI,CAACc,cAAc,CAACP,IAAI,CAACQ,EAAE,EAAER,IAAI,CAACC,GAAG,CAAC;IAC3C,IAAI,CAACE,cAAc,EAAE;EACvB;EAEAM,UAAU,CAACT,IAAS;IAClB,IAAI,CAACP,IAAI,CAACgB,UAAU,CAACT,IAAI,CAAC;EAC5B;EAEAG,cAAc;IACZ,IAAI,CAACO,UAAU,GAAG,IAAI,CAACZ,SAAS,CAC7Ba,MAAM,CAAC,CAACC,GAAG,EAAEZ,IAAI,KAAKY,GAAG,GAAIZ,IAAI,CAACa,KAAK,GAAGb,IAAI,CAACC,GAAI,EAAE,CAAC,CAAC;EAC5D;;AA3CWV,aAAa;mBAAbA,aAAa;AAAA;AAAbA,aAAa;QAAbA,aAAa;EAAAuB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDR1B5B,8DAsBM;MAENA,+GAEc;;;;MA1BeA,+CAA4B","names":["i0","CartComponent","constructor","cart","ngOnInit","cartItems$","subscribe","items","cartItems","map","item","qty","quantity","calculateTotal","increaseQty","updateItem","decreaseQty","updateQuantity","id","removeItem","totalPrice","reduce","sum","price","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["E:\\store-page\\src\\app\\cart\\cart.component.html","E:\\store-page\\src\\app\\cart\\cart.component.ts"],"sourcesContent":["<div class=\"cart-container\" *ngIf=\"cartItems.length > 0; else emptyCart\">\r\n\r\n  <div class=\"cart-card\" *ngFor=\"let item of cartItems\">\r\n    \r\n    <img [src]=\"item.thumbnail\" class=\"cart-img\">\r\n\r\n    <div class=\"cart-info\">\r\n      <h3>{{ item.title }}</h3>\r\n      <p class=\"price\">{{ item.price | currency }}</p>\r\n\r\n      <div class=\"qty-box\">\r\n        <button (click)=\"decreaseQty(item)\">-</button>\r\n        <span>{{ item.qty }}</span>\r\n        <button (click)=\"increaseQty(item)\">+</button>\r\n      </div>\r\n    </div>\r\n\r\n    <button class=\"delete-btn\" (click)=\"removeItem(item)\">X</button>\r\n\r\n  </div>\r\n\r\n  <h2 class=\"total\">Total: {{ totalPrice | currency }}</h2>\r\n</div>\r\n\r\n<ng-template #emptyCart>\r\n  <h2 class=\"empty\">Cart is empty</h2>\r\n</ng-template>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { CartService } from '../service/cart.service';\r\n\r\n@Component({\r\n  selector: 'app-cart',\r\n  templateUrl: './cart.component.html',\r\n  styleUrls: ['./cart.component.scss']\r\n})\r\nexport class CartComponent implements OnInit {\r\n\r\n  cartItems: any[] = [];\r\n  totalPrice = 0;\r\n\r\n  constructor(private cart: CartService) {}\r\n\r\n  ngOnInit(): void {\r\n    // მოსმენასაც იწყებს live updates-სთვის\r\n    this.cart.cartItems$.subscribe(items => {\r\n      this.cartItems = items.map(item => ({\r\n        ...item,\r\n        qty: item.quantity || 1\r\n      }));\r\n\r\n      this.calculateTotal();\r\n    });\r\n  }\r\n\r\n  increaseQty(item: any) {\r\n    item.qty++;\r\n    this.updateItem(item);\r\n  }\r\n\r\n  decreaseQty(item: any) {\r\n    if (item.qty > 1) {\r\n      item.qty--;\r\n      this.updateItem(item);\r\n    }\r\n  }\r\n\r\n  updateItem(item: any) {\r\n    this.cart.updateQuantity(item.id, item.qty);\r\n    this.calculateTotal();\r\n  }\r\n\r\n  removeItem(item: any) {\r\n    this.cart.removeItem(item);\r\n  }\r\n\r\n  calculateTotal() {\r\n    this.totalPrice = this.cartItems\r\n      .reduce((sum, item) => sum + (item.price * item.qty), 0);\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}