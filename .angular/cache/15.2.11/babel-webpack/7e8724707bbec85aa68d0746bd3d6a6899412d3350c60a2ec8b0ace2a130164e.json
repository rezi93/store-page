{"ast":null,"code":"import { map, tap, BehaviorSubject } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/router\";\nexport class PruductService {\n  constructor(_http, _route) {\n    this._http = _http;\n    this._route = _route;\n    this.items = [];\n    this.product = [];\n    this.item = new BehaviorSubject([]);\n    this.category = [];\n  }\n  getProductList() {\n    return this._http.get('https://dummyjson.com/products').pipe(tap(result => result), map(data => data.products));\n  }\n  getProduct(id) {\n    return this._http.get('https://dummyjson.com/products/' + id + '/ ');\n  }\n  searchProduct(category) {\n    return this._http.get('https://dummyjson.com/products/search', {\n      params: {\n        q: category\n      }\n    }).pipe(map(data => data.products));\n  }\n  addToCart(product) {\n    this.items.push(product);\n    console.log(this.items);\n  }\n  getItems() {\n    return this.items;\n  }\n  getTotalPrice() {\n    let grandtotal = 0;\n    this.items.map((a, index) => {\n      grandtotal += a.total;\n    });\n    return grandtotal;\n  }\n  removeItem(product) {\n    this.items.map((a, index) => {\n      if (product.id === a.id) {\n        this.items.splice(index, 1);\n      }\n    });\n  }\n  getProductByCat(category) {\n    return this._http.get('c/categories/' + category + '/ ').pipe(map(data => data));\n  }\n}\nPruductService.ɵfac = function PruductService_Factory(t) {\n  return new (t || PruductService)(i0.ɵɵinject(i1.HttpClient), i0.ɵɵinject(i2.ActivatedRoute));\n};\nPruductService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: PruductService,\n  factory: PruductService.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"mappings":"AAGA,SAAqBA,GAAG,EAAEC,GAAG,EAAqBC,eAAe,QAAQ,MAAM;;;;AAS/E,OAAM,MAAOC,cAAc;EASzBC,YAAoBC,KAAiB,EAAUC,MAAsB;IAAjD,UAAK,GAALD,KAAK;IAAsB,WAAM,GAANC,MAAM;IANrD,UAAK,GAAe,EAAE;IACtB,YAAO,GAAe,EAAE;IAExB,SAAI,GAAC,IAAIJ,eAAe,CAAM,EAAE,CAAC;IACjC,aAAQ,GAAa,EAAE;EAEkD;EACzEK,cAAc;IACZ,OAAO,IAAI,CAACF,KAAK,CAACG,GAAG,CAAkB,gCAAgC,CAAC,CAACC,IAAI,CAC3ER,GAAG,CAACS,MAAM,IAAIA,MAAM,CAAC,EACrBV,GAAG,CAACW,IAAI,IAAIA,IAAI,CAACC,QAAQ,CAAC,CAC3B;EACH;EAGAC,UAAU,CAACC,EAAO;IAEhB,OAAO,IAAI,CAACT,KAAK,CAACG,GAAG,CAAa,iCAAiC,GAAGM,EAAE,GAAG,IAAI,CAAC;EAClF;EAEAC,aAAa,CAACC,QAAa;IACzB,OAAO,IAAI,CAACX,KAAK,CAACG,GAAG,CAAkB,uCAAuC,EAAE;MAC9ES,MAAM,EAAE;QAAEC,CAAC,EAAEF;MAAQ;KACtB,CAAC,CAACP,IAAI,CAACT,GAAG,CAACW,IAAI,IAAIA,IAAI,CAACC,QAAQ,CAAC,CAAC;EACrC;EAIAO,SAAS,CAACC,OAAiB;IACzB,IAAI,CAACC,KAAK,CAACC,IAAI,CAACF,OAAO,CAAC;IAGxBG,OAAO,CAACC,GAAG,CAAC,IAAI,CAACH,KAAK,CAAC;EAGzB;EAEAI,QAAQ;IAEN,OAAO,IAAI,CAACJ,KAAK;EACnB;EAEAK,aAAa;IACf,IAAIC,UAAU,GAAC,CAAC;IAChB,IAAI,CAACN,KAAK,CAACrB,GAAG,CAAC,CAAC4B,CAAK,EAACC,KAAS,KAAG;MAChCF,UAAU,IAAEC,CAAC,CAACE,KAAK;IAErB,CAAC,CAAC;IACF,OAAOH,UAAU;EACf;EAMAI,UAAU,CAACX,OAAW;IACpB,IAAI,CAACC,KAAK,CAACrB,GAAG,CAAC,CAAC4B,CAAK,EAACC,KAAS,KAAG;MAChC,IAAGT,OAAO,CAACN,EAAE,KAAGc,CAAC,CAACd,EAAE,EAAC;QACnB,IAAI,CAACO,KAAK,CAACW,MAAM,CAACH,KAAK,EAAC,CAAC,CAAC;;IAE9B,CAAC,CAAC;EACJ;EAGAI,eAAe,CAACjB,QAAY;IAE1B,OAAO,IAAI,CAACX,KAAK,CAACG,GAAG,CAAa,eAAe,GAACQ,QAAQ,GAAC,IAAI,CAAC,CAACP,IAAI,CAACT,GAAG,CAACW,IAAI,IAAIA,IAAI,CAAC,CAAC;EAC1F;;AAtEWR,cAAc;mBAAdA,cAAc;AAAA;AAAdA,cAAc;SAAdA,cAAc;EAAA+B,SAAd/B,cAAc;EAAAgC,YAFb;AAAM","names":["map","tap","BehaviorSubject","PruductService","constructor","_http","_route","getProductList","get","pipe","result","data","products","getProduct","id","searchProduct","category","params","q","addToCart","product","items","push","console","log","getItems","getTotalPrice","grandtotal","a","index","total","removeItem","splice","getProductByCat","factory","providedIn"],"sourceRoot":"","sources":["E:\\store-page\\src\\app\\service\\pruduct.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { ICategory, IProduct, IBaseResponsive,IMenuItem } from '../interface/product';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Observable, map, tap, concatMap, Subject,BehaviorSubject } from 'rxjs';\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\n\r\n\r\ntype NewType = Number;\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class PruductService {\r\n \r\n  productID!: any\r\n  items: IProduct[] = []\r\n  product: IProduct[] = [];\r\n  productData: any\r\n  item=new BehaviorSubject<any>([])\r\n  category:IMenuItem[]=[]\r\n\r\n  constructor(private _http: HttpClient, private _route: ActivatedRoute) { }\r\n  getProductList(): Observable<IProduct[]> {\r\n    return this._http.get<IBaseResponsive>('https://dummyjson.com/products').pipe(\r\n      tap(result => result),\r\n      map(data => data.products)\r\n    )\r\n  }\r\n\r\n\r\n  getProduct(id: any): Observable<IProduct[]> {\r\n\r\n    return this._http.get<IProduct[]>('https://dummyjson.com/products/' + id + '/ ')\r\n  }\r\n\r\n  searchProduct(category: any): Observable<IProduct[]> {\r\n    return this._http.get<IBaseResponsive>('https://dummyjson.com/products/search', {\r\n      params: { q: category }\r\n    }).pipe(map(data => data.products))\r\n  }\r\n\r\n \r\n  \r\n  addToCart(product: IProduct) {\r\n    this.items.push(product)\r\n    \r\n   \r\n    console.log(this.items)\r\n    \r\n\r\n  }\r\n\r\n  getItems() {\r\n    \r\n    return this.items\r\n  }\r\n\r\n  getTotalPrice():number{\r\nlet grandtotal=0;\r\nthis.items.map((a:any,index:any)=>{\r\n  grandtotal+=a.total;\r\n  \r\n})\r\nreturn grandtotal;\r\n  }\r\n\r\n \r\n\r\n \r\n\r\n  removeItem(product:any){\r\n    this.items.map((a:any,index:any)=>{\r\n      if(product.id===a.id){\r\n        this.items.splice(index,1)\r\n      }\r\n    })\r\n  }\r\n\r\n\r\n  getProductByCat(category:any): Observable<IProduct[]> {\r\n\r\n    return this._http.get<IProduct[]>('c/categories/'+category+'/ ').pipe(map(data => data))\r\n  }\r\n\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}