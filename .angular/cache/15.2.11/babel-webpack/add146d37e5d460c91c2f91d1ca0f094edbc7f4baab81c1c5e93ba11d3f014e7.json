{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../service/cart.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"primeng/api\";\nimport * as i4 from \"primeng/card\";\nfunction CartComponent_p_card_1_ng_template_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 13);\n  }\n  if (rf & 2) {\n    const item_r1 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵproperty(\"src\", item_r1.thumbnail, i0.ɵɵsanitizeUrl);\n  }\n}\nfunction CartComponent_p_card_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"p-card\", 3);\n    i0.ɵɵtemplate(1, CartComponent_p_card_1_ng_template_1_Template, 1, 1, \"ng-template\", 4);\n    i0.ɵɵelementStart(2, \"div\", 5)(3, \"h3\", 6);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\", 7);\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"div\", 8)(9, \"button\", 9);\n    i0.ɵɵlistener(\"click\", function CartComponent_p_card_1_Template_button_click_9_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const i_r2 = restoredCtx.index;\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.decreaseQty(i_r2));\n    });\n    i0.ɵɵtext(10, \"\\u2212\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"span\");\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"button\", 9);\n    i0.ɵɵlistener(\"click\", function CartComponent_p_card_1_Template_button_click_13_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const i_r2 = restoredCtx.index;\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.increaseQty(i_r2));\n    });\n    i0.ɵɵtext(14, \"+\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(15, \"div\", 10)(16, \"button\", 11);\n    i0.ɵɵtext(17, \"Buy Now\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"button\", 12);\n    i0.ɵɵlistener(\"click\", function CartComponent_p_card_1_Template_button_click_18_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const item_r1 = restoredCtx.$implicit;\n      const ctx_r8 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r8.removeitem(item_r1));\n    });\n    i0.ɵɵtext(19, \"Delete\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const item_r1 = ctx.$implicit;\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(item_r1.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(7, 3, item_r1.price));\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(item_r1.qty);\n  }\n}\nexport class CartComponent {\n  constructor(cartService) {\n    this.cartService = cartService;\n    this.cartItems = [];\n    this.totalPrice = 0;\n  }\n  ngOnInit() {\n    // subscribe to live changes\n    this.cartService.cartItems$.subscribe(items => {\n      this.cartItems = items;\n      this.calculateTotal();\n    });\n  }\n  increaseQty(item) {\n    item.quantity++;\n    this.save();\n  }\n  decreaseQty(item) {\n    if (item.quantity > 1) {\n      item.quantity--;\n      this.save();\n    }\n  }\n  removeitem(item) {\n    const updatedItems = this.cartItems.filter(x => x.id !== item.id);\n    this.cartService.saveCart(updatedItems);\n  }\n  save() {\n    this.cartService.saveCart(this.cartItems);\n    this.calculateTotal();\n  }\n  calculateTotal() {\n    this.totalPrice = this.cartItems.reduce((sum, i) => sum + i.price * i.quantity, 0);\n  }\n}\nCartComponent.ɵfac = function CartComponent_Factory(t) {\n  return new (t || CartComponent)(i0.ɵɵdirectiveInject(i1.CartService));\n};\nCartComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: CartComponent,\n  selectors: [[\"app-cart\"]],\n  decls: 6,\n  vars: 4,\n  consts: [[1, \"cart-wrapper\"], [\"class\", \"cart-card\", 4, \"ngFor\", \"ngForOf\"], [1, \"total-box\"], [1, \"cart-card\"], [\"pTemplate\", \"header\"], [1, \"cart-info\"], [1, \"cart-title\"], [1, \"cart-price\"], [1, \"qty-box\"], [3, \"click\"], [1, \"cart-actions\"], [1, \"buy-btn\"], [1, \"delete-btn\", 3, \"click\"], [1, \"cart-image\", 3, \"src\"]],\n  template: function CartComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵtemplate(1, CartComponent_p_card_1_Template, 20, 5, \"p-card\", 1);\n      i0.ɵɵelementStart(2, \"div\", 2)(3, \"h3\");\n      i0.ɵɵtext(4);\n      i0.ɵɵpipe(5, \"currency\");\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", ctx.cartItems);\n      i0.ɵɵadvance(3);\n      i0.ɵɵtextInterpolate1(\"Total: \", i0.ɵɵpipeBind1(5, 2, ctx.totalPrice), \"\");\n    }\n  },\n  dependencies: [i2.NgForOf, i3.PrimeTemplate, i4.Card, i2.CurrencyPipe],\n  styles: [\".cart-wrapper[_ngcontent-%COMP%] {\\n  display: grid;\\n  grid-template-columns: repeat(auto-fill, minmax(360px, 1fr));\\n  gap: 2rem;\\n  padding: 1rem 2rem;\\n}\\n\\n.cart-card[_ngcontent-%COMP%] {\\n  background: #1f1f1f !important;\\n  border-radius: 16px;\\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.4);\\n  overflow: hidden;\\n  transition: transform 0.2s ease, box-shadow 0.3s ease;\\n}\\n.cart-card[_ngcontent-%COMP%]:hover {\\n  transform: scale(1.02);\\n  box-shadow: 0 6px 25px rgba(0, 0, 0, 0.6);\\n}\\n\\n.cart-image[_ngcontent-%COMP%] {\\n  width: 100%;\\n  height: 200px;\\n  object-fit: cover;\\n  margin-top: 10px;\\n}\\n\\n.cart-info[_ngcontent-%COMP%] {\\n  padding: 1.2rem;\\n}\\n\\n.cart-title[_ngcontent-%COMP%] {\\n  font-size: 1.2rem;\\n  margin-bottom: 0.4rem;\\n  font-weight: 500;\\n}\\n\\n.cart-price[_ngcontent-%COMP%] {\\n  color: #ffcc00;\\n  font-size: 1.3rem;\\n  font-weight: bold;\\n  margin-bottom: 1rem;\\n}\\n\\n.qty-box[_ngcontent-%COMP%] {\\n  display: flex;\\n  align-items: center;\\n  gap: 15px;\\n  margin-bottom: 1rem;\\n}\\n.qty-box[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\n  width: 32px;\\n  height: 32px;\\n  border-radius: 50%;\\n  border: none;\\n  background: #333;\\n  color: #fff;\\n  font-size: 20px;\\n  cursor: pointer;\\n  transition: background 0.2s ease;\\n}\\n.qty-box[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover {\\n  background: #555;\\n}\\n.qty-box[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] {\\n  font-size: 1.2rem;\\n}\\n\\n.cart-actions[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: space-between;\\n  margin-top: 1.2rem;\\n}\\n\\n.buy-btn[_ngcontent-%COMP%], .delete-btn[_ngcontent-%COMP%] {\\n  padding: 0.6rem 1.2rem;\\n  border-radius: 8px;\\n  font-weight: bold;\\n  cursor: pointer;\\n  border: none;\\n  transition: all 0.2s ease;\\n}\\n\\n.buy-btn[_ngcontent-%COMP%] {\\n  background: #ffcc00;\\n  color: #000;\\n}\\n.buy-btn[_ngcontent-%COMP%]:hover {\\n  background: #e6b800;\\n}\\n\\n.delete-btn[_ngcontent-%COMP%] {\\n  background: #ff4c4c;\\n  color: white;\\n}\\n.delete-btn[_ngcontent-%COMP%]:hover {\\n  background: #d40000;\\n  transform: scale(1.05);\\n}\\n\\n.total-box[_ngcontent-%COMP%] {\\n  grid-column: 1/-1;\\n  text-align: right;\\n  margin-top: 2rem;\\n  font-size: 1.5rem;\\n  color: #ffcc00;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY2FydC9jYXJ0LmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsYUFBQTtFQUNBLDREQUFBO0VBQ0EsU0FBQTtFQUNBLGtCQUFBO0FBQ0Y7O0FBRUE7RUFDRSw4QkFBQTtFQUNBLG1CQUFBO0VBQ0EseUNBQUE7RUFDQSxnQkFBQTtFQUNBLHFEQUFBO0FBQ0Y7QUFDRTtFQUNFLHNCQUFBO0VBQ0EseUNBQUE7QUFDSjs7QUFHQTtFQUNFLFdBQUE7RUFDQSxhQUFBO0VBQ0EsaUJBQUE7RUFDQSxnQkFBQTtBQUFGOztBQUdBO0VBQ0UsZUFBQTtBQUFGOztBQUdBO0VBQ0UsaUJBQUE7RUFDQSxxQkFBQTtFQUNBLGdCQUFBO0FBQUY7O0FBR0E7RUFDRSxjQUFBO0VBQ0EsaUJBQUE7RUFDQSxpQkFBQTtFQUNBLG1CQUFBO0FBQUY7O0FBR0E7RUFDRSxhQUFBO0VBQ0EsbUJBQUE7RUFDQSxTQUFBO0VBQ0EsbUJBQUE7QUFBRjtBQUVFO0VBQ0UsV0FBQTtFQUNBLFlBQUE7RUFDQSxrQkFBQTtFQUNBLFlBQUE7RUFDQSxnQkFBQTtFQUNBLFdBQUE7RUFDQSxlQUFBO0VBQ0EsZUFBQTtFQUNBLGdDQUFBO0FBQUo7QUFFSTtFQUNFLGdCQUFBO0FBQU47QUFJRTtFQUNFLGlCQUFBO0FBRko7O0FBTUE7RUFDRSxhQUFBO0VBQ0EsOEJBQUE7RUFDQSxrQkFBQTtBQUhGOztBQU1BO0VBQ0Usc0JBQUE7RUFDQSxrQkFBQTtFQUNBLGlCQUFBO0VBQ0EsZUFBQTtFQUNBLFlBQUE7RUFDQSx5QkFBQTtBQUhGOztBQU1BO0VBQ0UsbUJBQUE7RUFDQSxXQUFBO0FBSEY7QUFLRTtFQUNFLG1CQUFBO0FBSEo7O0FBT0E7RUFDRSxtQkFBQTtFQUNBLFlBQUE7QUFKRjtBQU1FO0VBQ0UsbUJBQUE7RUFDQSxzQkFBQTtBQUpKOztBQVFBO0VBQ0UsaUJBQUE7RUFDQSxpQkFBQTtFQUNBLGdCQUFBO0VBQ0EsaUJBQUE7RUFDQSxjQUFBO0FBTEYiLCJzb3VyY2VzQ29udGVudCI6WyIuY2FydC13cmFwcGVyIHtcclxuICBkaXNwbGF5OiBncmlkO1xyXG4gIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KGF1dG8tZmlsbCwgbWlubWF4KDM2MHB4LCAxZnIpKTtcclxuICBnYXA6IDJyZW07XHJcbiAgcGFkZGluZzogMXJlbSAycmVtO1xyXG59XHJcblxyXG4uY2FydC1jYXJkIHtcclxuICBiYWNrZ3JvdW5kOiAjMWYxZjFmICFpbXBvcnRhbnQ7XHJcbiAgYm9yZGVyLXJhZGl1czogMTZweDtcclxuICBib3gtc2hhZG93OiAwIDRweCAyMHB4IHJnYmEoMCwwLDAsMC40KTtcclxuICBvdmVyZmxvdzogaGlkZGVuO1xyXG4gIHRyYW5zaXRpb246IHRyYW5zZm9ybSAuMnMgZWFzZSwgYm94LXNoYWRvdyAuM3MgZWFzZTtcclxuXHJcbiAgJjpob3ZlciB7XHJcbiAgICB0cmFuc2Zvcm06IHNjYWxlKDEuMDIpO1xyXG4gICAgYm94LXNoYWRvdzogMCA2cHggMjVweCByZ2JhKDAsMCwwLDAuNik7XHJcbiAgfVxyXG59XHJcblxyXG4uY2FydC1pbWFnZSB7XHJcbiAgd2lkdGg6IDEwMCU7XHJcbiAgaGVpZ2h0OiAyMDBweDtcclxuICBvYmplY3QtZml0OiBjb3ZlcjtcclxuICBtYXJnaW4tdG9wOiAxMHB4O1xyXG59XHJcblxyXG4uY2FydC1pbmZvIHtcclxuICBwYWRkaW5nOiAxLjJyZW07XHJcbn1cclxuXHJcbi5jYXJ0LXRpdGxlIHtcclxuICBmb250LXNpemU6IDEuMnJlbTtcclxuICBtYXJnaW4tYm90dG9tOiAwLjRyZW07XHJcbiAgZm9udC13ZWlnaHQ6IDUwMDtcclxufVxyXG5cclxuLmNhcnQtcHJpY2Uge1xyXG4gIGNvbG9yOiAjZmZjYzAwO1xyXG4gIGZvbnQtc2l6ZTogMS4zcmVtO1xyXG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xyXG4gIG1hcmdpbi1ib3R0b206IDFyZW07XHJcbn1cclxuXHJcbi5xdHktYm94IHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgZ2FwOiAxNXB4O1xyXG4gIG1hcmdpbi1ib3R0b206IDFyZW07XHJcblxyXG4gIGJ1dHRvbiB7XHJcbiAgICB3aWR0aDogMzJweDtcclxuICAgIGhlaWdodDogMzJweDtcclxuICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcclxuICAgIGJvcmRlcjogbm9uZTtcclxuICAgIGJhY2tncm91bmQ6ICMzMzM7XHJcbiAgICBjb2xvcjogI2ZmZjtcclxuICAgIGZvbnQtc2l6ZTogMjBweDtcclxuICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgIHRyYW5zaXRpb246IGJhY2tncm91bmQgMC4ycyBlYXNlO1xyXG5cclxuICAgICY6aG92ZXIge1xyXG4gICAgICBiYWNrZ3JvdW5kOiAjNTU1O1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc3BhbiB7XHJcbiAgICBmb250LXNpemU6IDEuMnJlbTtcclxuICB9XHJcbn1cclxuXHJcbi5jYXJ0LWFjdGlvbnMge1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xyXG4gIG1hcmdpbi10b3A6IDEuMnJlbTtcclxufVxyXG5cclxuLmJ1eS1idG4sIC5kZWxldGUtYnRuIHtcclxuICBwYWRkaW5nOiAwLjZyZW0gMS4ycmVtO1xyXG4gIGJvcmRlci1yYWRpdXM6IDhweDtcclxuICBmb250LXdlaWdodDogYm9sZDtcclxuICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgYm9yZGVyOiBub25lO1xyXG4gIHRyYW5zaXRpb246IGFsbCAwLjJzIGVhc2U7XHJcbn1cclxuXHJcbi5idXktYnRuIHtcclxuICBiYWNrZ3JvdW5kOiAjZmZjYzAwO1xyXG4gIGNvbG9yOiAjMDAwO1xyXG5cclxuICAmOmhvdmVyIHtcclxuICAgIGJhY2tncm91bmQ6ICNlNmI4MDA7XHJcbiAgfVxyXG59XHJcblxyXG4uZGVsZXRlLWJ0biB7XHJcbiAgYmFja2dyb3VuZDogI2ZmNGM0YztcclxuICBjb2xvcjogd2hpdGU7XHJcblxyXG4gICY6aG92ZXIge1xyXG4gICAgYmFja2dyb3VuZDogI2Q0MDAwMDtcclxuICAgIHRyYW5zZm9ybTogc2NhbGUoMS4wNSk7XHJcbiAgfVxyXG59XHJcblxyXG4udG90YWwtYm94IHtcclxuICBncmlkLWNvbHVtbjogMSAvIC0xO1xyXG4gIHRleHQtYWxpZ246IHJpZ2h0O1xyXG4gIG1hcmdpbi10b3A6IDJyZW07XHJcbiAgZm9udC1zaXplOiAxLjVyZW07XHJcbiAgY29sb3I6ICNmZmNjMDA7XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";;;;;;;IAOMA,0BAAiD;;;;IAA5CA,yDAAsB;;;;;;IAL/BA,iCAEoB;IAElBA,uFAEc;IAEdA,8BAAuB;IAEEA,YAAgB;IAAAA,iBAAK;IAC5CA,4BAAsB;IAAAA,YAA2B;;IAAAA,iBAAI;IAGrDA,8BAAqB;IACXA;MAAA;MAAA;MAAA;MAAA,OAASA,uCAAc;IAAA,EAAC;IAACA,uBAAC;IAAAA,iBAAS;IAC3CA,6BAAM;IAAAA,aAAc;IAAAA,iBAAO;IAC3BA,kCAAiC;IAAzBA;MAAA;MAAA;MAAA;MAAA,OAASA,uCAAc;IAAA,EAAC;IAACA,kBAAC;IAAAA,iBAAS;IAG7CA,gCAA0B;IACAA,wBAAO;IAAAA,iBAAS;IACxCA,mCAAsD;IAA3BA;MAAA;MAAA;MAAA;MAAA,OAASA,yCAAgB;IAAA,EAAC;IAACA,uBAAM;IAAAA,iBAAS;;;;IAZhDA,eAAgB;IAAhBA,mCAAgB;IACjBA,eAA2B;IAA3BA,yDAA2B;IAKzCA,eAAc;IAAdA,iCAAc;;;ACV5B,OAAM,MAAOC,aAAa;EAKxBC,YAAoBC,WAAwB;IAAxB,gBAAW,GAAXA,WAAW;IAH/B,cAAS,GAAU,EAAE;IACrB,eAAU,GAAW,CAAC;EAEyB;EAE/CC,QAAQ;IACN;IACA,IAAI,CAACD,WAAW,CAACE,UAAU,CAACC,SAAS,CAACC,KAAK,IAAG;MAC5C,IAAI,CAACC,SAAS,GAAGD,KAAK;MACtB,IAAI,CAACE,cAAc,EAAE;IACvB,CAAC,CAAC;EACJ;EAEAC,WAAW,CAACC,IAAS;IACnBA,IAAI,CAACC,QAAQ,EAAE;IACf,IAAI,CAACC,IAAI,EAAE;EACb;EAEAC,WAAW,CAACH,IAAS;IACnB,IAAIA,IAAI,CAACC,QAAQ,GAAG,CAAC,EAAE;MACrBD,IAAI,CAACC,QAAQ,EAAE;MACf,IAAI,CAACC,IAAI,EAAE;;EAEf;EAEAE,UAAU,CAACJ,IAAS;IAClB,MAAMK,YAAY,GAAG,IAAI,CAACR,SAAS,CAACS,MAAM,CAACC,CAAC,IAAIA,CAAC,CAACC,EAAE,KAAKR,IAAI,CAACQ,EAAE,CAAC;IACjE,IAAI,CAAChB,WAAW,CAACiB,QAAQ,CAACJ,YAAY,CAAC;EACzC;EAEAH,IAAI;IACF,IAAI,CAACV,WAAW,CAACiB,QAAQ,CAAC,IAAI,CAACZ,SAAS,CAAC;IACzC,IAAI,CAACC,cAAc,EAAE;EACvB;EAEAA,cAAc;IACZ,IAAI,CAACY,UAAU,GAAG,IAAI,CAACb,SAAS,CAC7Bc,MAAM,CAAC,CAACC,GAAG,EAAEC,CAAC,KAAKD,GAAG,GAAGC,CAAC,CAACC,KAAK,GAAGD,CAAC,CAACZ,QAAQ,EAAE,CAAC,CAAC;EACtD;;AAxCWX,aAAa;mBAAbA,aAAa;AAAA;AAAbA,aAAa;QAAbA,aAAa;EAAAyB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDR1B9B,8BAA0B;MAExBA,qEA2BS;MAETA,8BAAuB;MACjBA,YAAkC;;MAAAA,iBAAK;;;MA7B1BA,eAAc;MAAdA,uCAAc;MA6B3BA,eAAkC;MAAlCA,0EAAkC","names":["i0","CartComponent","constructor","cartService","ngOnInit","cartItems$","subscribe","items","cartItems","calculateTotal","increaseQty","item","quantity","save","decreaseQty","removeitem","updatedItems","filter","x","id","saveCart","totalPrice","reduce","sum","i","price","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["E:\\store-page\\src\\app\\cart\\cart.component.html","E:\\store-page\\src\\app\\cart\\cart.component.ts"],"sourcesContent":["<div class=\"cart-wrapper\">\r\n\r\n  <p-card \r\n    *ngFor=\"let item of cartItems; let i = index\" \r\n    class=\"cart-card\">\r\n\r\n    <ng-template pTemplate=\"header\">\r\n      <img [src]=\"item.thumbnail\" class=\"cart-image\" />\r\n    </ng-template>\r\n\r\n    <div class=\"cart-info\">\r\n      \r\n      <h3 class=\"cart-title\">{{ item.title }}</h3>\r\n      <p class=\"cart-price\">{{ item.price | currency }}</p>\r\n\r\n      \r\n      <div class=\"qty-box\">\r\n        <button (click)=\"decreaseQty(i)\">−</button>\r\n        <span>{{ item.qty }}</span>\r\n        <button (click)=\"increaseQty(i)\">+</button>\r\n      </div>\r\n\r\n      <div class=\"cart-actions\">\r\n        <button class=\"buy-btn\">Buy Now</button>\r\n        <button class=\"delete-btn\" (click)=\"removeitem(item)\">Delete</button>\r\n      </div>\r\n\r\n    </div>\r\n\r\n  </p-card>\r\n\r\n  <div class=\"total-box\">\r\n    <h3>Total: {{ totalPrice | currency }}</h3>\r\n  </div>\r\n\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { CartService } from '../service/cart.service';\r\n\r\n@Component({\r\n  selector: 'app-cart',\r\n  templateUrl: './cart.component.html',\r\n  styleUrls: ['./cart.component.scss']\r\n})\r\nexport class CartComponent implements OnInit {\r\n\r\n  cartItems: any[] = [];\r\n  totalPrice: number = 0;\r\n\r\n  constructor(private cartService: CartService) {}\r\n\r\n  ngOnInit(): void {\r\n    // subscribe to live changes\r\n    this.cartService.cartItems$.subscribe(items => {\r\n      this.cartItems = items;\r\n      this.calculateTotal();\r\n    });\r\n  }\r\n\r\n  increaseQty(item: any) {\r\n    item.quantity++;\r\n    this.save();\r\n  }\r\n\r\n  decreaseQty(item: any) {\r\n    if (item.quantity > 1) {\r\n      item.quantity--;\r\n      this.save();\r\n    }\r\n  }\r\n\r\n  removeitem(item: any) {\r\n    const updatedItems = this.cartItems.filter(x => x.id !== item.id);\r\n    this.cartService.saveCart(updatedItems);\r\n  }\r\n\r\n  save() {\r\n    this.cartService.saveCart(this.cartItems);\r\n    this.calculateTotal();\r\n  }\r\n\r\n  calculateTotal() {\r\n    this.totalPrice = this.cartItems\r\n      .reduce((sum, i) => sum + i.price * i.quantity, 0);\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}