{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../service/pruduct.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"primeng/api\";\nimport * as i4 from \"primeng/card\";\nfunction CartComponent_p_card_1_ng_template_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 13);\n  }\n  if (rf & 2) {\n    const item_r1 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵproperty(\"src\", item_r1.thumbnail, i0.ɵɵsanitizeUrl);\n  }\n}\nfunction CartComponent_p_card_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"p-card\", 3);\n    i0.ɵɵtemplate(1, CartComponent_p_card_1_ng_template_1_Template, 1, 1, \"ng-template\", 4);\n    i0.ɵɵelementStart(2, \"div\", 5)(3, \"h3\", 6);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\", 7);\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"div\", 8)(9, \"button\", 9);\n    i0.ɵɵlistener(\"click\", function CartComponent_p_card_1_Template_button_click_9_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const i_r2 = restoredCtx.index;\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.decreaseQty(i_r2));\n    });\n    i0.ɵɵtext(10, \"\\u2212\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"span\");\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"button\", 9);\n    i0.ɵɵlistener(\"click\", function CartComponent_p_card_1_Template_button_click_13_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const i_r2 = restoredCtx.index;\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.increaseQty(i_r2));\n    });\n    i0.ɵɵtext(14, \"+\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(15, \"div\", 10)(16, \"button\", 11);\n    i0.ɵɵtext(17, \"Buy Now\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"button\", 12);\n    i0.ɵɵlistener(\"click\", function CartComponent_p_card_1_Template_button_click_18_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const item_r1 = restoredCtx.$implicit;\n      const ctx_r8 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r8.removeitem(item_r1));\n    });\n    i0.ɵɵtext(19, \"Delete\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const item_r1 = ctx.$implicit;\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(item_r1.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(7, 3, item_r1.price));\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(item_r1.qty);\n  }\n}\nexport class CartComponent {\n  constructor(service) {\n    this.service = service;\n    this.cartItems = [];\n    this.totalPrice = 0;\n  }\n  ngOnInit() {\n    this.cartItems = this.service.getItems().map(item => ({\n      ...item,\n      qty: item.id || 1\n    }));\n    this.calculateTotal();\n  }\n  increaseQty(index) {\n    this.cartItems[index].qty++;\n    this.calculateTotal();\n  }\n  decreaseQty(index) {\n    if (this.cartItems[index].qty > 1) {\n      this.cartItems[index].qty--;\n      this.calculateTotal();\n    }\n  }\n  removeitem(item) {\n    this.service.removeItem(item);\n    this.cartItems = this.cartItems.filter(i => i.id !== item.id);\n    this.calculateTotal();\n  }\n  calculateTotal() {\n    this.totalPrice = this.cartItems.reduce((sum, item) => sum + item.price * item.qty, 0);\n  }\n}\nCartComponent.ɵfac = function CartComponent_Factory(t) {\n  return new (t || CartComponent)(i0.ɵɵdirectiveInject(i1.PruductService));\n};\nCartComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: CartComponent,\n  selectors: [[\"app-cart\"]],\n  decls: 6,\n  vars: 4,\n  consts: [[1, \"cart-wrapper\"], [\"class\", \"cart-card\", 4, \"ngFor\", \"ngForOf\"], [1, \"total-box\"], [1, \"cart-card\"], [\"pTemplate\", \"header\"], [1, \"cart-info\"], [1, \"cart-title\"], [1, \"cart-price\"], [1, \"qty-box\"], [3, \"click\"], [1, \"cart-actions\"], [1, \"buy-btn\"], [1, \"delete-btn\", 3, \"click\"], [1, \"cart-image\", 3, \"src\"]],\n  template: function CartComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵtemplate(1, CartComponent_p_card_1_Template, 20, 5, \"p-card\", 1);\n      i0.ɵɵelementStart(2, \"div\", 2)(3, \"h3\");\n      i0.ɵɵtext(4);\n      i0.ɵɵpipe(5, \"currency\");\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", ctx.cartItems);\n      i0.ɵɵadvance(3);\n      i0.ɵɵtextInterpolate1(\"Total: \", i0.ɵɵpipeBind1(5, 2, ctx.totalPrice), \"\");\n    }\n  },\n  dependencies: [i2.NgForOf, i3.PrimeTemplate, i4.Card, i2.CurrencyPipe],\n  styles: [\"var[_ngcontent-%COMP%]   resource[_ngcontent-%COMP%];\\n (()[_ngcontent-%COMP%]   =[_ngcontent-%COMP%] >  { // webpackBootstrap\\n \\tvar __webpack_modules__ = ({\\n\\n 92:\\n\\n (() => {\\n\\nthrow new Error(\\\"Module build failed (from ./node_modules/sass-loader/dist/cjs.js):\\\\nSassError: expected \\\\\\\"{\\\\\\\".\\\\n   \\u2577\\\\n25 \\u2502   marg\\\\r\\\\n   \\u2502       ^\\\\n   \\u2575\\\\n  src\\\\\\\\app\\\\\\\\cart\\\\\\\\cart.component.scss 25:7  root stylesheet\\\");\\n\\n })\\n\\n \\t});\\n\\n \\t\\n \\t// startup\\n \\t// Load entry module and return exports\\n \\t// This entry module doesn't tell about it's top-level declarations so it can't be inlined\\n \\tvar __webpack_exports__ = {};\\n \\t__webpack_modules__[92]();\\n \\tresource = __webpack_exports__;\\n \\t\\n })()\\n;\"]\n});","map":{"version":3,"mappings":";;;;;;;IAOMA,0BAAiD;;;;IAA5CA,yDAAsB;;;;;;IAL/BA,iCAEoB;IAElBA,uFAEc;IAEdA,8BAAuB;IAEEA,YAAgB;IAAAA,iBAAK;IAC5CA,4BAAsB;IAAAA,YAA2B;;IAAAA,iBAAI;IAGrDA,8BAAqB;IACXA;MAAA;MAAA;MAAA;MAAA,OAASA,uCAAc;IAAA,EAAC;IAACA,uBAAC;IAAAA,iBAAS;IAC3CA,6BAAM;IAAAA,aAAc;IAAAA,iBAAO;IAC3BA,kCAAiC;IAAzBA;MAAA;MAAA;MAAA;MAAA,OAASA,uCAAc;IAAA,EAAC;IAACA,kBAAC;IAAAA,iBAAS;IAG7CA,gCAA0B;IACAA,wBAAO;IAAAA,iBAAS;IACxCA,mCAAsD;IAA3BA;MAAA;MAAA;MAAA;MAAA,OAASA,yCAAgB;IAAA,EAAC;IAACA,uBAAM;IAAAA,iBAAS;;;;IAZhDA,eAAgB;IAAhBA,mCAAgB;IACjBA,eAA2B;IAA3BA,yDAA2B;IAKzCA,eAAc;IAAdA,iCAAc;;;ACT5B,OAAM,MAAOC,aAAa;EAKxBC,YAAoBC,OAAuB;IAAvB,YAAO,GAAPA,OAAO;IAH3B,cAAS,GAAU,EAAE;IACrB,eAAU,GAAG,CAAC;EAEgC;EAE9CC,QAAQ;IACN,IAAI,CAACC,SAAS,GAAG,IAAI,CAACF,OAAO,CAACG,QAAQ,EAAE,CAACC,GAAG,CAACC,IAAI,KAAK;MACpD,GAAGA,IAAI;MACPC,GAAG,EAAED,IAAI,CAACE,EAAE,IAAG;KAChB,CAAC,CAAC;IAEH,IAAI,CAACC,cAAc,EAAE;EACvB;EAEAC,WAAW,CAACC,KAAa;IACvB,IAAI,CAACR,SAAS,CAACQ,KAAK,CAAC,CAACJ,GAAG,EAAE;IAC3B,IAAI,CAACE,cAAc,EAAE;EACvB;EAEAG,WAAW,CAACD,KAAa;IACvB,IAAI,IAAI,CAACR,SAAS,CAACQ,KAAK,CAAC,CAACJ,GAAG,GAAG,CAAC,EAAE;MACjC,IAAI,CAACJ,SAAS,CAACQ,KAAK,CAAC,CAACJ,GAAG,EAAE;MAC3B,IAAI,CAACE,cAAc,EAAE;;EAEzB;EAEAI,UAAU,CAACP,IAAS;IAClB,IAAI,CAACL,OAAO,CAACa,UAAU,CAACR,IAAI,CAAC;IAC7B,IAAI,CAACH,SAAS,GAAG,IAAI,CAACA,SAAS,CAACY,MAAM,CAACC,CAAC,IAAIA,CAAC,CAACR,EAAE,KAAKF,IAAI,CAACE,EAAE,CAAC;IAC7D,IAAI,CAACC,cAAc,EAAE;EACvB;EAEAA,cAAc;IACZ,IAAI,CAACQ,UAAU,GAAG,IAAI,CAACd,SAAS,CAC7Be,MAAM,CAAC,CAACC,GAAG,EAAEb,IAAI,KAAKa,GAAG,GAAIb,IAAI,CAACc,KAAK,GAAGd,IAAI,CAACC,GAAI,EAAE,CAAC,CAAC;EAC5D;;AArCWR,aAAa;mBAAbA,aAAa;AAAA;AAAbA,aAAa;QAAbA,aAAa;EAAAsB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDT1B3B,8BAA0B;MAExBA,qEA2BS;MAETA,8BAAuB;MACjBA,YAAkC;;MAAAA,iBAAK;;;MA7B1BA,eAAc;MAAdA,uCAAc;MA6B3BA,eAAkC;MAAlCA,0EAAkC","names":["i0","CartComponent","constructor","service","ngOnInit","cartItems","getItems","map","item","qty","id","calculateTotal","increaseQty","index","decreaseQty","removeitem","removeItem","filter","i","totalPrice","reduce","sum","price","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["E:\\store-page\\src\\app\\cart\\cart.component.html","E:\\store-page\\src\\app\\cart\\cart.component.ts"],"sourcesContent":["<div class=\"cart-wrapper\">\r\n\r\n  <p-card \r\n    *ngFor=\"let item of cartItems; let i = index\" \r\n    class=\"cart-card\">\r\n\r\n    <ng-template pTemplate=\"header\">\r\n      <img [src]=\"item.thumbnail\" class=\"cart-image\" />\r\n    </ng-template>\r\n\r\n    <div class=\"cart-info\">\r\n      \r\n      <h3 class=\"cart-title\">{{ item.title }}</h3>\r\n      <p class=\"cart-price\">{{ item.price | currency }}</p>\r\n\r\n      <!-- Quantity Controller -->\r\n      <div class=\"qty-box\">\r\n        <button (click)=\"decreaseQty(i)\">−</button>\r\n        <span>{{ item.qty }}</span>\r\n        <button (click)=\"increaseQty(i)\">+</button>\r\n      </div>\r\n\r\n      <div class=\"cart-actions\">\r\n        <button class=\"buy-btn\">Buy Now</button>\r\n        <button class=\"delete-btn\" (click)=\"removeitem(item)\">Delete</button>\r\n      </div>\r\n\r\n    </div>\r\n\r\n  </p-card>\r\n\r\n  <div class=\"total-box\">\r\n    <h3>Total: {{ totalPrice | currency }}</h3>\r\n  </div>\r\n\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { IProduct } from '../interface/product';\r\nimport { PruductService } from '../service/pruduct.service';\r\n\r\n@Component({\r\n  selector: 'app-cart',\r\n  templateUrl: './cart.component.html',\r\n  styleUrls: ['./cart.component.scss']\r\n})\r\nexport class CartComponent implements OnInit {\r\n\r\n  cartItems: any[] = [];\r\n  totalPrice = 0;\r\n\r\n  constructor(private service: PruductService) {}\r\n\r\n  ngOnInit(): void {\r\n    this.cartItems = this.service.getItems().map(item => ({\r\n      ...item,\r\n      qty: item.id|| 1\r\n    }));\r\n\r\n    this.calculateTotal();\r\n  }\r\n\r\n  increaseQty(index: number) {\r\n    this.cartItems[index].qty++;\r\n    this.calculateTotal();\r\n  }\r\n\r\n  decreaseQty(index: number) {\r\n    if (this.cartItems[index].qty > 1) {\r\n      this.cartItems[index].qty--;\r\n      this.calculateTotal();\r\n    }\r\n  }\r\n\r\n  removeitem(item: any) {\r\n    this.service.removeItem(item);\r\n    this.cartItems = this.cartItems.filter(i => i.id !== item.id);\r\n    this.calculateTotal();\r\n  }\r\n\r\n  calculateTotal() {\r\n    this.totalPrice = this.cartItems\r\n      .reduce((sum, item) => sum + (item.price * item.qty), 0);\r\n  }\r\n\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}