{"ast":null,"code":"import { map, BehaviorSubject } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport class PruductService {\n  constructor(_http) {\n    this._http = _http;\n    this.cartItems = [];\n    // ðŸ”¥ Cart Counter (Header Badge)\n    this.cartCountSource = new BehaviorSubject(0);\n    this.cartCount$ = this.cartCountSource.asObservable();\n  }\n  // ============================\n  // Get Product List\n  // ============================\n  getProductList() {\n    return this._http.get('https://dummyjson.com/products').pipe(map(res => res.products));\n  }\n  // ============================\n  // Get Product By ID\n  // ============================\n  getProduct(id) {\n    return this._http.get(`https://dummyjson.com/products/${id}`);\n  }\n  // ============================\n  // Search Product (Live Search)\n  // ============================\n  searchProduct(query) {\n    return this._http.get('https://dummyjson.com/products/search', {\n      params: {\n        q: query\n      }\n    }).pipe(map(data => data.products));\n  }\n  filterProducts(query) {\n    const filtered = this.filter(p => p.title.toLowerCase().includes(query.toLowerCase()));\n    this.filteredProductsSource.next(filtered);\n  }\n  // ============================\n  // Get Product By Category\n  // ============================\n  getProductByCat(category) {\n    return this._http.get(`https://dummyjson.com/products/category/${category}`).pipe(map(data => data.products));\n  }\n  // ============================\n  // Add to Cart\n  // ============================\n  addToCart(product) {\n    this.cartItems.push(product);\n    this.updateCartCount();\n  }\n  // ðŸ”¥ Cart Count Refresh\n  updateCartCount() {\n    this.cartCountSource.next(this.cartItems.length);\n  }\n  // ============================\n  // Get All Cart Items\n  // ============================\n  getItems() {\n    return [...this.cartItems];\n  }\n  // ============================\n  // Remove Item\n  // ============================\n  removeItem(product) {\n    this.cartItems = this.cartItems.filter(p => p.id !== product.id);\n    this.updateCartCount();\n  }\n  // ============================\n  // Calculate Total Price\n  // ============================\n  getTotalPrice() {\n    return this.cartItems.reduce((total, item) => total + (item.price || 0), 0);\n  }\n}\nPruductService.Éµfac = function PruductService_Factory(t) {\n  return new (t || PruductService)(i0.ÉµÉµinject(i1.HttpClient));\n};\nPruductService.Éµprov = /*@__PURE__*/i0.ÉµÉµdefineInjectable({\n  token: PruductService,\n  factory: PruductService.Éµfac,\n  providedIn: 'root'\n});","map":{"version":3,"mappings":"AAGA,SAAqBA,GAAG,EAAEC,eAAe,QAAQ,MAAM;;;AAKvD,OAAM,MAAOC,cAAc;EAQzBC,YAAoBC,KAAiB;IAAjB,UAAK,GAALA,KAAK;IANjB,cAAS,GAAe,EAAE;IAElC;IACQ,oBAAe,GAAG,IAAIH,eAAe,CAAS,CAAC,CAAC;IACxD,eAAU,GAAG,IAAI,CAACI,eAAe,CAACC,YAAY,EAAE;EAER;EAExC;EACA;EACA;EACAC,cAAc;IACZ,OAAO,IAAI,CAACH,KAAK,CAACI,GAAG,CAAkB,gCAAgC,CAAC,CACrEC,IAAI,CAACT,GAAG,CAACU,GAAG,IAAIA,GAAG,CAACC,QAAQ,CAAC,CAAC;EACnC;EAEA;EACA;EACA;EACAC,UAAU,CAACC,EAAU;IACnB,OAAO,IAAI,CAACT,KAAK,CAACI,GAAG,CAAW,kCAAkCK,EAAE,EAAE,CAAC;EACzE;EAEA;EACA;EACA;EACAC,aAAa,CAACC,KAAa;IACzB,OAAO,IAAI,CAACX,KAAK,CAACI,GAAG,CAAkB,uCAAuC,EAAE;MAC9EQ,MAAM,EAAE;QAAEC,CAAC,EAAEF;MAAK;KACnB,CAAC,CAACN,IAAI,CAACT,GAAG,CAACkB,IAAI,IAAIA,IAAI,CAACP,QAAQ,CAAC,CAAC;EACrC;EAEAQ,cAAc,CAACJ,KAAa;IAC1B,MAAMK,QAAQ,GAAG,IAAI,CAACC,MAAM,CAACC,CAAC,IAC1BA,CAAC,CAACC,KAAK,CAACC,WAAW,EAAE,CAACC,QAAQ,CAACV,KAAK,CAACS,WAAW,EAAE,CAAC,CACtD;IACD,IAAI,CAACE,sBAAsB,CAACC,IAAI,CAACP,QAAQ,CAAC;EAC9C;EAEE;EACA;EACA;EACAQ,eAAe,CAACC,QAAgB;IAC9B,OAAO,IAAI,CAACzB,KAAK,CACdI,GAAG,CAAkB,2CAA2CqB,QAAQ,EAAE,CAAC,CAC3EpB,IAAI,CAACT,GAAG,CAACkB,IAAI,IAAIA,IAAI,CAACP,QAAQ,CAAC,CAAC;EACrC;EAEA;EACA;EACA;EACAmB,SAAS,CAACC,OAAiB;IACzB,IAAI,CAACC,SAAS,CAACC,IAAI,CAACF,OAAO,CAAC;IAC5B,IAAI,CAACG,eAAe,EAAE;EACxB;EAEA;EACAA,eAAe;IACb,IAAI,CAAC7B,eAAe,CAACsB,IAAI,CAAC,IAAI,CAACK,SAAS,CAACG,MAAM,CAAC;EAClD;EAEA;EACA;EACA;EACAC,QAAQ;IACN,OAAO,CAAC,GAAG,IAAI,CAACJ,SAAS,CAAC;EAC5B;EAEA;EACA;EACA;EACAK,UAAU,CAACN,OAAiB;IAC1B,IAAI,CAACC,SAAS,GAAG,IAAI,CAACA,SAAS,CAACX,MAAM,CAACC,CAAC,IAAIA,CAAC,CAACT,EAAE,KAAKkB,OAAO,CAAClB,EAAE,CAAC;IAChE,IAAI,CAACqB,eAAe,EAAE;EACxB;EAEA;EACA;EACA;EACAI,aAAa;IACX,OAAO,IAAI,CAACN,SAAS,CAACO,MAAM,CAAC,CAACC,KAAK,EAAEC,IAAI,KAAKD,KAAK,IAAIC,IAAI,CAACC,KAAK,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC;EAC7E;;AAnFWxC,cAAc;mBAAdA,cAAc;AAAA;AAAdA,cAAc;SAAdA,cAAc;EAAAyC,SAAdzC,cAAc;EAAA0C,YAFb;AAAM","names":["map","BehaviorSubject","PruductService","constructor","_http","cartCountSource","asObservable","getProductList","get","pipe","res","products","getProduct","id","searchProduct","query","params","q","data","filterProducts","filtered","filter","p","title","toLowerCase","includes","filteredProductsSource","next","getProductByCat","category","addToCart","product","cartItems","push","updateCartCount","length","getItems","removeItem","getTotalPrice","reduce","total","item","price","factory","providedIn"],"sourceRoot":"","sources":["E:\\store-page\\src\\app\\service\\pruduct.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { ICategory, IProduct, IBaseResponsive, IMenuItem } from '../interface/product';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Observable, map, BehaviorSubject } from 'rxjs';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class PruductService {\r\n\r\n  private cartItems: IProduct[] = [];\r\n\r\n  // ðŸ”¥ Cart Counter (Header Badge)\r\n  private cartCountSource = new BehaviorSubject<number>(0);\r\n  cartCount$ = this.cartCountSource.asObservable();\r\n\r\n  constructor(private _http: HttpClient) {}\r\n\r\n  // ============================\r\n  // Get Product List\r\n  // ============================\r\n  getProductList(): Observable<IProduct[]> {\r\n    return this._http.get<IBaseResponsive>('https://dummyjson.com/products')\r\n      .pipe(map(res => res.products));\r\n  }\r\n\r\n  // ============================\r\n  // Get Product By ID\r\n  // ============================\r\n  getProduct(id: number): Observable<IProduct> {\r\n    return this._http.get<IProduct>(`https://dummyjson.com/products/${id}`);\r\n  }\r\n\r\n  // ============================\r\n  // Search Product (Live Search)\r\n  // ============================\r\n  searchProduct(query: string): Observable<IProduct[]> {\r\n    return this._http.get<IBaseResponsive>('https://dummyjson.com/products/search', {\r\n      params: { q: query }\r\n    }).pipe(map(data => data.products));\r\n  }\r\n\r\n  filterProducts(query: string) {\r\n    const filtered = this.filter(p =>\r\n        p.title.toLowerCase().includes(query.toLowerCase())\r\n    );\r\n    this.filteredProductsSource.next(filtered);\r\n}\r\n\r\n  // ============================\r\n  // Get Product By Category\r\n  // ============================\r\n  getProductByCat(category: string): Observable<IProduct[]> {\r\n    return this._http\r\n      .get<IBaseResponsive>(`https://dummyjson.com/products/category/${category}`)\r\n      .pipe(map(data => data.products));\r\n  }\r\n\r\n  // ============================\r\n  // Add to Cart\r\n  // ============================\r\n  addToCart(product: IProduct) {\r\n    this.cartItems.push(product);\r\n    this.updateCartCount();\r\n  }\r\n\r\n  // ðŸ”¥ Cart Count Refresh\r\n  updateCartCount() {\r\n    this.cartCountSource.next(this.cartItems.length);\r\n  }\r\n\r\n  // ============================\r\n  // Get All Cart Items\r\n  // ============================\r\n  getItems(): IProduct[] {\r\n    return [...this.cartItems];\r\n  }\r\n\r\n  // ============================\r\n  // Remove Item\r\n  // ============================\r\n  removeItem(product: IProduct) {\r\n    this.cartItems = this.cartItems.filter(p => p.id !== product.id);\r\n    this.updateCartCount();\r\n  }\r\n\r\n  // ============================\r\n  // Calculate Total Price\r\n  // ============================\r\n  getTotalPrice(): number {\r\n    return this.cartItems.reduce((total, item) => total + (item.price || 0), 0);\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}