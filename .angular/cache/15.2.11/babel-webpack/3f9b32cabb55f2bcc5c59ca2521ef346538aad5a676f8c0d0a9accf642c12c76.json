{"ast":null,"code":"import { BehaviorSubject } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nexport class CartService {\n  constructor() {\n    this.cartItems = new BehaviorSubject(this.loadCart());\n    this.cartItems$ = this.cartItems.asObservable();\n  }\n  loadCart() {\n    return JSON.parse(localStorage.getItem('cart') || '[]');\n  }\n  saveCart(items) {\n    localStorage.setItem('cart', JSON.stringify(items));\n    this.cartItems.next(items);\n  }\n  addToCart(product, qty = 1) {\n    const items = this.loadCart();\n    const exist = items.find(x => x.id === product.id);\n    if (exist) {\n      exist.quantity += qty;\n    } else {\n      items.push({\n        ...product,\n        quantity: qty\n      });\n    }\n    this.saveCart(items);\n  }\n  updateQuantity(id, qty) {\n    const items = this.loadCart();\n    const item = items.find(x => x.id === id);\n    if (item) {\n      item.quantity = qty;\n      this.saveCart(items);\n    }\n  }\n  removeItem(item) {\n    const updated = this.loadCart().filter(x => x.id !== item.id);\n    this.saveCart(updated);\n  }\n}\nCartService.ɵfac = function CartService_Factory(t) {\n  return new (t || CartService)();\n};\nCartService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: CartService,\n  factory: CartService.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"mappings":"AACA,SAASA,eAAe,QAAQ,MAAM;;AAKtC,OAAM,MAAOC,WAAW;EAKtBC;IAHQ,cAAS,GAAG,IAAIF,eAAe,CAAQ,IAAI,CAACG,QAAQ,EAAE,CAAC;IAC/D,eAAU,GAAG,IAAI,CAACC,SAAS,CAACC,YAAY,EAAE;EAE3B;EAEfF,QAAQ;IACN,OAAOG,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,IAAI,IAAI,CAAC;EACzD;EAEAC,QAAQ,CAACC,KAAY;IACnBH,YAAY,CAACI,OAAO,CAAC,MAAM,EAAEN,IAAI,CAACO,SAAS,CAACF,KAAK,CAAC,CAAC;IACnD,IAAI,CAACP,SAAS,CAACU,IAAI,CAACH,KAAK,CAAC;EAC5B;EAEAI,SAAS,CAACC,OAAY,EAAEC,MAAc,CAAC;IACrC,MAAMN,KAAK,GAAG,IAAI,CAACR,QAAQ,EAAE;IAC7B,MAAMe,KAAK,GAAGP,KAAK,CAACQ,IAAI,CAAEC,CAAM,IAAKA,CAAC,CAACC,EAAE,KAAKL,OAAO,CAACK,EAAE,CAAC;IAEzD,IAAIH,KAAK,EAAE;MACTA,KAAK,CAACI,QAAQ,IAAIL,GAAG;KACtB,MAAM;MACLN,KAAK,CAACY,IAAI,CAAC;QAAE,GAAGP,OAAO;QAAEM,QAAQ,EAAEL;MAAG,CAAE,CAAC;;IAG3C,IAAI,CAACP,QAAQ,CAACC,KAAK,CAAC;EACtB;EAEAa,cAAc,CAACH,EAAU,EAAEJ,GAAW;IACpC,MAAMN,KAAK,GAAG,IAAI,CAACR,QAAQ,EAAE;IAC7B,MAAMsB,IAAI,GAAGd,KAAK,CAACQ,IAAI,CAAEC,CAAM,IAAKA,CAAC,CAACC,EAAE,KAAKA,EAAE,CAAC;IAChD,IAAII,IAAI,EAAE;MACRA,IAAI,CAACH,QAAQ,GAAGL,GAAG;MACnB,IAAI,CAACP,QAAQ,CAACC,KAAK,CAAC;;EAExB;EAEAe,UAAU,CAACD,IAAS;IAClB,MAAME,OAAO,GAAG,IAAI,CAACxB,QAAQ,EAAE,CAACyB,MAAM,CAAER,CAAM,IAAKA,CAAC,CAACC,EAAE,KAAKI,IAAI,CAACJ,EAAE,CAAC;IACpE,IAAI,CAACX,QAAQ,CAACiB,OAAO,CAAC;EACxB;;AAzCW1B,WAAW;mBAAXA,WAAW;AAAA;AAAXA,WAAW;SAAXA,WAAW;EAAA4B,SAAX5B,WAAW;EAAA6B,YAFV;AAAM","names":["BehaviorSubject","CartService","constructor","loadCart","cartItems","asObservable","JSON","parse","localStorage","getItem","saveCart","items","setItem","stringify","next","addToCart","product","qty","exist","find","x","id","quantity","push","updateQuantity","item","removeItem","updated","filter","factory","providedIn"],"sourceRoot":"","sources":["E:\\store-page\\src\\app\\service\\cart.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class CartService {\n\n  private cartItems = new BehaviorSubject<any[]>(this.loadCart());\n  cartItems$ = this.cartItems.asObservable();\n\n  constructor() {}\n\n  loadCart() {\n    return JSON.parse(localStorage.getItem('cart') || '[]');\n  }\n\n  saveCart(items: any[]) {\n    localStorage.setItem('cart', JSON.stringify(items));\n    this.cartItems.next(items);\n  }\n\n  addToCart(product: any, qty: number = 1) {\n    const items = this.loadCart();\n    const exist = items.find((x: any) => x.id === product.id);\n\n    if (exist) {\n      exist.quantity += qty;\n    } else {\n      items.push({ ...product, quantity: qty });\n    }\n\n    this.saveCart(items);\n  }\n\n  updateQuantity(id: number, qty: number) {\n    const items = this.loadCart();\n    const item = items.find((x: any) => x.id === id);\n    if (item) {\n      item.quantity = qty;\n      this.saveCart(items);\n    }\n  }\n\n  removeItem(item: any) {\n    const updated = this.loadCart().filter((x: any) => x.id !== item.id);\n    this.saveCart(updated);\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}